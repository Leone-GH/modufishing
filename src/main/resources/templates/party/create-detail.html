<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>파티 모집글 세부 작성</title>
  <link rel="stylesheet" th:href="@{/css/party-detail.css}">
  <style>
    body { max-width: 650px; margin: 30px auto; font-family: 'Noto Sans KR', sans-serif; }
    .summary-box { background: #eef5fa; border-radius: 10px; padding: 18px; margin: 16px 0;}
    label { display: block; margin: 14px 0 6px 0; font-weight: bold;}
    textarea, input[type="text"], input[type="datetime-local"] { width: 100%; padding: 6px; }
    button { margin-top: 16px; padding: 10px 22px; border: none; border-radius: 6px; background: #1976d2; color: #fff; font-weight: 600; }
  </style>
</head>
<body>
<h2>2단계: 모집글 상세 정보 입력</h2>
<div class="summary-box">
  <div>
    <b>출발지:</b> <span th:text="${routeInfo.departurePoint}"></span>
    (<span th:text="${routeInfo.departureLat}"></span>, <span th:text="${routeInfo.departureLng}"></span>)<br>
    <b>도착지:</b> <span th:text="${routeInfo.destination}"></span>
    (<span th:text="${routeInfo.destinationLat}"></span>, <span th:text="${routeInfo.destinationLng}"></span>)<br>
    <b>출발일시:</b> <span th:text="${routeInfo.departureTime}"></span><br>
  </div>
  <div th:if="${marineInfoHtml != null}">
    <b>해양 정보:</b><br>
    <div th:utext="${marineInfoHtml}"></div>
  </div>
  <!-- 기타 요약 필요시 추가 -->
</div>
<form method="post" th:action="@{/party/saveDetail}" enctype="multipart/form-data">
  <label>글 제목</label>
  <input type="text" name="title" required/>

  <label>출발지 설명</label>
  <textarea name="departureDesc"></textarea>

  <label>도착지 설명</label>
  <textarea name="destinationDesc"></textarea>

  <label>경유지 설명</label>
  <textarea name="waypointsDesc"></textarea>

  <label>파티모집글 설명</label>
  <textarea name="description" required></textarea>

  <label>이미지 첨부</label>
  <input type="file" name="images" multiple accept="image/*">

  <label>파티모집 마감일시</label>
  <input type="datetime-local" name="deadline" required>

  <!-- 1차 폼 정보 hidden input(세션방식이면 불필요. 필요시 아래처럼) -->
  <!-- <input type="hidden" name="marineInfoJson" th:value="${routeInfo.marineInfoJson}"/> -->
  <!-- 기타 hidden도 필요시 추가 -->

  <button type="submit">최종 등록</button>
</form>
</body>
</html>
